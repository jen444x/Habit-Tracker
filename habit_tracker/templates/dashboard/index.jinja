{% extends 'base.jinja' %}

{% block header %}
  <h1>{% block title %}Florifer{% endblock %}</h1>
{% endblock %}

{% block content %}
  {# Add new habit #}
  <a class="text-center bg-calm-600 hover:bg-calm-500 text-white p-2 rounded font-bold cursor-pointer text-xl shadow-lg/30" href="{{ url_for('dashboard.create') }}">
    + New Habit
  </a>

  {# List of habits not completed #}
  <div class="mt-8 flex flex-col gap-4">
  {% for habit in habits %}
    {# Each habit  #}
    <div class="bg-white hover:bg-gray-100 cursor-pointer rounded-xl px-4 py-2 shadow-lg/30 border-3 border-calm-500">
      <div class="flex flex-row items-center">
        <a 
        class="habit basis-6/7 flex gap-6"
        href="{{ url_for('dashboard.update', id=habit['id']) }}"
        >
            <h3 
              class="font-black text-xl font-bold text-calm-600">
              {{habit['title'] }}
            </h3>
            <p 
              class="text-lg text-gray-500 font-sans font-light truncate">
              {{ habit['body'] }}
            </p>
        </a>
        <form 
        action="{{ url_for('dashboard.complete', id=habit['id']) }}"
        method="post" 
        class="basis-1/7"
        >
          <button 
              class="status-btn text-white text-xl bg-calm-500 hover:bg-calm-600 hover:bg-calm-700 rounded-xl cursor-pointer px-4 py-1.5 shadow-lg/30">
            &#10004
          </button>
        </form>
    </div>
  </div>
  {% endfor %}

  <hr class="my-7 border-t border-gray-400">

  {# List of habits done #}
  <div class=" flex flex-col gap-4">
  {% for habit in habits_done %}
    {# Each habit  #}
    <div class="bg-white hover:bg-gray-100 cursor-pointer rounded-xl px-4 py-2 shadow-lg/30 border-3 border-calm-500">
      <div class="flex flex-row items-center">
        <a 
        class="habit basis-6/7 flex gap-6"
        href="{{ url_for('dashboard.update', id=habit['id']) }}"
        >
            <h3 
              class="font-black text-xl font-bold text-calm-600">
              {{habit['title'] }}
            </h3>
            <p 
              class="text-lg text-gray-500 font-sans font-light truncate">
              {{ habit['body'] }}
            </p>
        </a>
        <form 
        action="{{ url_for('dashboard.complete', id=habit['id']) }}"
        method="post" 
        class="basis-1/7"
        >
          <button 
              class="status-btn text-white text-xl bg-calm-500 hover:bg-calm-600 hover:bg-calm-700 rounded-xl cursor-pointer px-4 py-1.5 shadow-lg/30">
            &#10004
          </button>
        </form>
    </div>
  </div>
  {% endfor %}
  </div>
{% endblock %}
