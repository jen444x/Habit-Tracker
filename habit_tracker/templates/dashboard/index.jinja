{% extends 'base.jinja' %}

{% block header %}
  <div class="w-full flex flex-col gap-6">
    <h1>{% block title %}Florifer{% endblock %}</h1>
  </div>
{% endblock %}

{% block content %}
    <div class="flex justify-start">
      <a class="bg-calm-600 hover:bg-calm-500 text-white p-6 rounded font-bold cursor-pointer text-3xl shadow-lg/30" href="{{ url_for('dashboard.create') }}">
        + New Habit
      </a>
    </div>
    {# List of habits #}
    {% for habit in habits %}
    <div class="flex flex-col gap-6">
      {# Each habit  #}
      <div class="flex flex-row gap-16 items-center">
        <a 
        class="habit basis-5/6 flex justify-between bg-white hover:bg-calm-500 cursor-pointer rounded-xl px-12 py-6 shadow-lg/30 border-3 border-calm-500"
        href="{{ url_for('dashboard.update', id=habit['id']) }}"
        >
          <div class="flex items-end gap-6 basis-64">
            <h3 
              class="font-black text-xl md:text-2xl text-calm-600">
              {{habit['title'] }}
            </h3>
            <p 
              class="text-lg text-gray-500 font-sans font-light truncate">
              {{ habit['body'] }}
            </p>
          </div>
        </a>
        <form 
        action="{{ url_for('dashboard.complete', id=habit['id']) }}"
        method="post" 
        class="basis-1/6 min-w-48"
        >
          <button 
              class=" status-btn w-full text-xl md:text-2xl text-calm-600 bg-calm-500 hover:bg-calm-600 hover:text-white font-bold rounded-xl cursor-pointer px-4 md:px-6 py-6 shadow-lg/30">
            Complete
          </button>
        </form>
      </div>
    </div>
    {% endfor %}

    <hr class="my-16 border-t border-gray-400">

    {# List of habits done #}
    {% for habit in habits_done %}
    <div class="gap-6 my-8">
      <div class="flex flex-row gap-16 items-center">
        <a 
        class="habit basis-5/6 flex justify-between bg-white hover:bg-calm-500 cursor-pointer rounded-xl px-12 py-6 shadow-lg/30 border-3 border-calm-500"
        href="{{ url_for('dashboard.update', id=habit['id']) }}"
        >
          <div class="flex items-end gap-6 basis-64">
            <h3 
              class="font-black text-xl md:text-2xl text-calm-600">
              {{habit['title'] }}
            </h3>
            <p 
              class="text-lg text-gray-500 font-sans font-light truncate">
              {{ habit['body'] }}
            </p>
          </div>
        </a>
        <form 
        action="{{ url_for('dashboard.complete', id=habit['id']) }}"
        method="post" 
        class="basis-1/6 min-w-40"
        >
          <button 
            class=" status-btn w-full text-xl md:text-2xl  text-calm-600 bg-calm-400 hover:bg-calm-500 hover:text-white font-bold rounded-xl cursor-pointer px-4 md:px-6 py-6 shadow-lg/30">
            Undo
          </button>
        </form>
      </div>
    </div>
    {% endfor %}
{% endblock %}
